<!DOCTYPE html>
<html lang="es" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Bases de Datos VII - Consultas de Datos | oscarzt20</title>
<meta name="keywords" content="enciclopedia">
<meta name="description" content="
I. Consultas
1.1 Consultas básicas
Se usa SELECT para iniciar, * para hacer una selección global o se especifican los datos para especificar la búsqueda. Adicionalmente se usa FROM para especificar la tabla y WHERE para especificar una condición.
Ejemplos

Consulta todos los archivos y sus características

SELECT * FROM sys.master_files;

Consulta todas las bases de datos

SELECT * FROM sys.databases;

Consulta las tablas, se cambia el nombre de la DB que se quiere ver

SELECT object_id, &#39;[&#39;&#43;SCHEMA_NAME(schema_id)&#43;&#39;].[&#39;&#43;name&#43;&#39;]&#39;
AS [schema_table], max_column_id_used, type, type_desc, create_date, modify_date, lock_escalation_desc
FROM sys.tables;

Consulta e texto o código fuente de un objeto en la base de datos, como una vista, procedimiento almacenado, función o disparador

sp_helpText contarDepartamentos;

Consulta todo de los clientes con apellido paterno &lsquo;Martinez&rsquo;

SELECT * FROM Clientes WHERE apellidoP = &#39;Martinez&#39;;

Consulta el precio y las ventas de los productos de color &lsquo;azul&rsquo;

SELECT precio, ventas FROM Productos WHERE color = &#39;azul&#39;;
1.2 Uso de JOIN
INNER JOIN
Combina filas de dos o más tablas en función de una condición de igualdad especificada en la cláusula ON. Solo devuelve las filas donde existe una coincidencia en ambas tablas. Se toma en cuenta la llave primaria y la foránea.">
<meta name="author" content="Oscar Juarez">
<link rel="canonical" href="http://localhost:1313/apuntes/bases-de-datos-vii---consultas-de-datos/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.81c898f5a2238b061825acde445de1b10e9825286bc566504cbb22ca1b9d1f73.css" integrity="sha256-gciY9aIjiwYYJazeRF3hsQ6YJShrxWZQTLsiyhudH3M=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="es" href="http://localhost:1313/apuntes/bases-de-datos-vii---consultas-de-datos/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="oscarzt20 (Alt + H)">oscarzt20</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/proyectos/" title="Portafolio">
                    <span>Portafolio</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="Archivo">
                    <span>Archivo</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Inicio</a>&nbsp;»&nbsp;<a href="http://localhost:1313/apuntes/">Apuntes</a></div>
    <h1 class="post-title entry-hint-parent">
      Bases de Datos VII - Consultas de Datos
    </h1>
    <div class="post-meta"><span title='2025-08-08 00:00:00 +0000 UTC'>agosto 8, 2025</span>&nbsp;·&nbsp;Oscar Juarez

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Tabla de Contenidos</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#i-consultas" aria-label="I. Consultas">I. Consultas</a><ul>
                        
                <li>
                    <a href="#11-consultas-b%c3%a1sicas" aria-label="1.1 Consultas básicas">1.1 Consultas básicas</a></li>
                <li>
                    <a href="#12-uso-de-join" aria-label="1.2 Uso de JOIN">1.2 Uso de JOIN</a><ul>
                        
                <li>
                    <a href="#inner-join" aria-label="INNER JOIN">INNER JOIN</a></li>
                <li>
                    <a href="#left-join" aria-label="LEFT JOIN">LEFT JOIN</a></li>
                <li>
                    <a href="#right-join" aria-label="RIGHT JOIN">RIGHT JOIN</a></li>
                <li>
                    <a href="#full-join" aria-label="FULL JOIN">FULL JOIN</a></li>
                <li>
                    <a href="#cross-join" aria-label="CROSS JOIN">CROSS JOIN</a></li></ul>
                </li>
                <li>
                    <a href="#13-funciones" aria-label="1.3 Funciones">1.3 Funciones</a><ul>
                        
                <li>
                    <a href="#concatx-y" aria-label="CONCAT(X, Y)">CONCAT(X, Y)</a></li>
                <li>
                    <a href="#lengthx" aria-label="LENGTH(X)">LENGTH(X)</a></li>
                <li>
                    <a href="#substringx-start-length" aria-label="SUBSTRING(X, Start, Length)">SUBSTRING(X, Start, Length)</a></li>
                <li>
                    <a href="#upperx--lowerx" aria-label="UPPER(X) / LOWER(X)">UPPER(X) / LOWER(X)</a></li>
                <li>
                    <a href="#date" aria-label="DATE">DATE</a></li></ul>
                </li>
                <li>
                    <a href="#14-operaciones" aria-label="1.4 Operaciones">1.4 Operaciones</a><ul>
                        
                <li>
                    <a href="#count" aria-label="COUNT(*)">COUNT(*)</a></li>
                <li>
                    <a href="#sumcolumna" aria-label="SUM(columna)">SUM(columna)</a></li>
                <li>
                    <a href="#avgcolumna" aria-label="AVG(columna)">AVG(columna)</a></li>
                <li>
                    <a href="#mincolumna" aria-label="MIN(columna)">MIN(columna)</a></li>
                <li>
                    <a href="#maxcolumna" aria-label="MAX(columna)">MAX(columna)</a></li>
                <li>
                    <a href="#uso-de-group-by" aria-label="Uso de GROUP BY">Uso de GROUP BY</a></li>
                <li>
                    <a href="#uso-de-order-by" aria-label="Uso de ORDER BY">Uso de ORDER BY</a><ul>
                        
                <li>
                    <a href="#relaci%c3%b3n-con-group-by" aria-label="Relación con GROUP BY">Relación con GROUP BY</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#15-vistas" aria-label="1.5 Vistas">1.5 Vistas</a><ul>
                        
                <li>
                    <a href="#sintaxis-b%c3%a1sica-de-una-vista" aria-label="Sintaxis básica de una vista">Sintaxis básica de una vista</a></li>
                <li>
                    <a href="#cifrado-de-vistas" aria-label="Cifrado de vistas">Cifrado de vistas</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#-m%c3%a1s-informaci%c3%b3n" aria-label="/ Más Información">/ Más Información</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><hr>
<h2 id="i-consultas">I. Consultas<a hidden class="anchor" aria-hidden="true" href="#i-consultas">#</a></h2>
<h3 id="11-consultas-básicas">1.1 Consultas básicas<a hidden class="anchor" aria-hidden="true" href="#11-consultas-básicas">#</a></h3>
<p>Se usa <code>SELECT</code> para iniciar, <code>*</code> para hacer una selección global o se especifican los datos para especificar la búsqueda. Adicionalmente se usa <code>FROM</code> para especificar la tabla y <code>WHERE</code> para especificar una condición.</p>
<p><strong>Ejemplos</strong></p>
<ul>
<li>Consulta todos los archivos y sus características</li>
</ul>
<pre tabindex="0"><code>SELECT * FROM sys.master_files;
</code></pre><ul>
<li>Consulta todas las bases de datos</li>
</ul>
<pre tabindex="0"><code>SELECT * FROM sys.databases;
</code></pre><ul>
<li>Consulta las tablas, se cambia el nombre de la DB que se quiere ver</li>
</ul>
<pre tabindex="0"><code>SELECT object_id, &#39;[&#39;+SCHEMA_NAME(schema_id)+&#39;].[&#39;+name+&#39;]&#39;
AS [schema_table], max_column_id_used, type, type_desc, create_date, modify_date, lock_escalation_desc
FROM sys.tables;
</code></pre><ul>
<li>Consulta e texto o código fuente de un objeto en la base de datos, como una vista, procedimiento almacenado, función o disparador</li>
</ul>
<pre tabindex="0"><code>sp_helpText contarDepartamentos;
</code></pre><ul>
<li>Consulta todo de los clientes con apellido paterno &lsquo;Martinez&rsquo;</li>
</ul>
<pre tabindex="0"><code>SELECT * FROM Clientes WHERE apellidoP = &#39;Martinez&#39;;
</code></pre><ul>
<li>Consulta el precio y las ventas de los productos de color &lsquo;azul&rsquo;</li>
</ul>
<pre tabindex="0"><code>SELECT precio, ventas FROM Productos WHERE color = &#39;azul&#39;;
</code></pre><h3 id="12-uso-de-join">1.2 Uso de JOIN<a hidden class="anchor" aria-hidden="true" href="#12-uso-de-join">#</a></h3>
<h4 id="inner-join">INNER JOIN<a hidden class="anchor" aria-hidden="true" href="#inner-join">#</a></h4>
<p>Combina filas de dos o más tablas en función de una condición de igualdad especificada en la cláusula <code>ON</code>. Solo devuelve las filas donde existe una coincidencia en ambas tablas. Se toma en cuenta la llave primaria y la foránea.</p>
<p><img alt="Conceptos y Programación de Bases de Datos_26-07-2025.png" loading="lazy" src="/imagenes/Conceptos%20y%20Programaci%C3%B3n%20de%20Bases%20de%20Datos_26-07-2025.png"></p>
<p><strong>Sintaxis</strong></p>
<pre tabindex="0"><code>SELECT columnas FROM TablaA INNER JOIN TablaB ON TablaA.id_tablaA = TablaB.id_tablaA WHERE columna9 = &#39;valor&#39;
</code></pre><p><strong>Ejemplos</strong></p>
<ul>
<li>Consulta los nombres de los clientes y las fechas de los pedidos</li>
</ul>
<pre tabindex="0"><code>SELECT Clientes.nombre, Pedidos.fecha FROM Clientes INNER JOIN Pedidos ON Clientes.id_cliente = Pedidos.id_cliente;
</code></pre><ul>
<li>Consulta el nombre del producto, la cantidad, la fecha y el nombre del cliente en 4 tablas</li>
</ul>
<pre tabindex="0"><code>SELECT p.nombreProducto, dp.cantidad, pe.fecha, cl.nombre FROM Productos p INNER JOIN DetallesPedidos dp ON p.id_producto = dp.id_producto INNER JOIN Pedidos pe ON dp.id_pedido = pe.id_pedido INNER JOIN Clientes cl ON pe.id_pedido = cl.id_cliente;
</code></pre><h4 id="left-join">LEFT JOIN<a hidden class="anchor" aria-hidden="true" href="#left-join">#</a></h4>
<p>EI <code>LEFT JOIN</code> devuelve todas las filas de la tabla de la izquierda (en
este caso <code>clientes</code>), y las filas coincidentes de la tabla de la derecha
(<code>pedidos</code>). Si no hay coincidencia, el resultado mostrará <code>NULL</code> en las
columnas de la tabla de la derecha.</p>
<p><strong>Sintaxis</strong></p>
<pre tabindex="0"><code>SELECT columnas FROM TablaA LEFT JOIN TablaB ON TablaA.id_tablaA = TablaB.id_tablaA WHERE columna9 = &#39;valor&#39;
</code></pre><p><strong>Ejemplo</strong></p>
<ul>
<li>En este caso la consulta de Promedio de ventas por cliente muestra únicamente los datos que se especifican y que coinciden en la tabla de la izquierda y pone en NULL las de la derecha que no.</li>
</ul>
<pre tabindex="0"><code>SELECT Clientes.nombre, AVG(totalVenta) AS promedioVenta FROM Clientes LEFT JOIN Ventas ON Clientes.id_cliente = Ventas.id_cliente GROUP BY nombre;
</code></pre><h4 id="right-join">RIGHT JOIN<a hidden class="anchor" aria-hidden="true" href="#right-join">#</a></h4>
<p>EI <code>RIGHT JOIN</code> es lo contrario al <code>LEFT JOIN</code>. Devuelve todas las filas de
la tabla de la derecha (<code>pedidos</code>), y las filas coincidentes de la tabla de
la izquierda (<code>clientes</code>). Si no hay coincidencia, se mostrarán <code>NULL</code> en
las columnas de la tabla de la izquierda.</p>
<p><strong>Sintaxis</strong></p>
<pre tabindex="0"><code>SELECT columnas FROM TablaA RIGHT JOIN TablaB ON TablaA.id_tablaA = TablaB.id_tablaA WHERE columna9 = &#39;valor&#39;
</code></pre><p><strong>Ejemplo</strong></p>
<ul>
<li>En este caso la consulta de Promedio de ventas por cliente muestra únicamente los datos que se especifican y que coinciden en la tabla de la derecha y pone en NULL las de la izquierda que no.</li>
</ul>
<pre tabindex="0"><code>SELECT Clientes.nombre, AVG(totalVenta) AS promedioVenta FROM Clientes RIGHT JOIN Ventas ON Clientes.id_cliente = Ventas.id_cliente GROUP BY nombre;
</code></pre><h4 id="full-join">FULL JOIN<a hidden class="anchor" aria-hidden="true" href="#full-join">#</a></h4>
<p>FULL JOIN Devuelve filas cuando hay una coincidencia en una de las tablas, o ambas.</p>
<p><strong>Sintaxis</strong></p>
<pre tabindex="0"><code>SELECT columnas FROM TablaA FULL JOIN TablaB ON TablaA.id_tablaA = TablaB.id_tablaA WHERE columna9 = &#39;valor&#39;
</code></pre><p><strong>Ejemplo</strong></p>
<ul>
<li>En este caso se muestra tanto lo que coincide como lo que no</li>
</ul>
<pre tabindex="0"><code>SELECT Clientes.nombre, AVG(totalVenta) AS promedioVenta FROM Clientes FULL JOIN Ventas ON Clientes.id_cliente = Ventas.id_cliente GROUP BY nombre;
</code></pre><h4 id="cross-join">CROSS JOIN<a hidden class="anchor" aria-hidden="true" href="#cross-join">#</a></h4>
<p>Devuelve el producto cartesiano de ambas tablas, es decir, todas las combinaciones posibles de filas.</p>
<p><strong>Sintaxis</strong></p>
<pre tabindex="0"><code>SELECT * FROM Tabla1 CROSS JOIN Tabla2;
</code></pre><p><strong>Ejemplo</strong></p>
<ul>
<li>En este caso se muestra el producto cartesiano de todos los datos de Clientes y Ventas</li>
</ul>
<pre tabindex="0"><code>SELECT * FROM Clientes CROSS JOIN Ventas;
</code></pre><h3 id="13-funciones">1.3 Funciones<a hidden class="anchor" aria-hidden="true" href="#13-funciones">#</a></h3>
<h4 id="concatx-y">CONCAT(X, Y)<a hidden class="anchor" aria-hidden="true" href="#concatx-y">#</a></h4>
<p>Concatena dos cadenas de texto.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Selecciona el <code>id</code> de <code>empleado</code> y el <code>nombre</code> con <code>apellido</code> y mostrar como <code>nombreCompleto</code>, de la tabla <code>empleados</code></li>
</ul>
<pre tabindex="0"><code>SELECT id_empleado, CONCAT(nombre, &#39; &#39;, apellido) AS nombreCompleto FROM Empleados;
</code></pre><h4 id="lengthx">LENGTH(X)<a hidden class="anchor" aria-hidden="true" href="#lengthx">#</a></h4>
<p>Devuelve la longitud de la cadena X.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Muestra el nombre y el número de caracteres</li>
</ul>
<pre tabindex="0"><code>SELECT id_empleado, nombre, LEN(nombre) AS longitudNombre FROM Empleados;
</code></pre><h4 id="substringx-start-length">SUBSTRING(X, Start, Length)<a hidden class="anchor" aria-hidden="true" href="#substringx-start-length">#</a></h4>
<p>Extrae una sub-cadena de X a partir de la posición Start con la longitud indicada.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Muestra el nombre y la versión en sub-cadena</li>
</ul>
<pre tabindex="0"><code>SELECT id_empleado, nombre, SUBSTRING(nombre, 1, 3) AS subcadena FROM Empleados;
</code></pre><h4 id="upperx--lowerx">UPPER(X) / LOWER(X)<a hidden class="anchor" aria-hidden="true" href="#upperx--lowerx">#</a></h4>
<p>Convierte X a mayúsculas o minúsculas, respectivamente.</p>
<p><strong>Ejemplos</strong></p>
<ul>
<li>Muestra el nombre y en mayúsculas</li>
</ul>
<pre tabindex="0"><code>SELECT id_empleado, nombre, UPPER(nombre) AS nombreMayusculas FROM Empleados;
</code></pre><ul>
<li>Muestra el nombre y en minúsculas</li>
</ul>
<pre tabindex="0"><code>SELECT id_empleado, nombre, LOWER(nombre) AS nombreMinusculas FROM Empleados;
</code></pre><h4 id="date">DATE<a hidden class="anchor" aria-hidden="true" href="#date">#</a></h4>
<p><strong>Ejemplos</strong></p>
<ul>
<li>Obtener la fecha</li>
</ul>
<pre tabindex="0"><code>SELECT GETDATE() AS fechaHoraActual;
</code></pre><ul>
<li>Agregar a la fecha 5 días</li>
</ul>
<pre tabindex="0"><code>SELECT DATEADD(DAY, 5, &#39;2025-02-03&#39;) AS nuevaFecha;
</code></pre><ul>
<li>Obtiene la diferencia en días de una fecha menos otra</li>
</ul>
<pre tabindex="0"><code>SELECT DATEDIFF(DAY, &#39;2025-01-01&#39;, &#39;2025-02-03&#39;) AS diferenciaDias;
</code></pre><ul>
<li>Obtiene el año, mes y día separándolos de la fecha deseada</li>
</ul>
<pre tabindex="0"><code>SELECT
YEAR(&#39;2025-02-03&#39;) AS anio,
MONTH(&#39;2025-02-03&#39;) AS mes,
DAY(&#39;2025-02-03&#39;) AS dia;
</code></pre><ul>
<li>Obtiene la diferencia en años de una fecha menos otra</li>
</ul>
<pre tabindex="0"><code>SELECT DATEDIFF(DAY, &#39;2020-01-01&#39;, &#39;2025-02-03&#39;)/365.25 AS diferenciaAnios;
</code></pre><ul>
<li>Añade 10 días y resta 3 meses a la fecha deseada</li>
</ul>
<pre tabindex="0"><code>SELECT
DATEADD(DAY, 10, &#39;2025-02-03&#39;) AS nuevaFechaConDias,
DATEADD(MONTH, -3, &#39;2025-02-03&#39;) AS nuevaFechaConMes;
</code></pre><h3 id="14-operaciones">1.4 Operaciones<a hidden class="anchor" aria-hidden="true" href="#14-operaciones">#</a></h3>
<h4 id="count">COUNT(<code>*</code>)<a hidden class="anchor" aria-hidden="true" href="#count">#</a></h4>
<p>Cuenta el número total de registros de una tabla.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Cuenta los registros en empleados.</li>
</ul>
<pre tabindex="0"><code>SELECT COUNT(*) AS totalEmpleados FROM Empleados;
</code></pre><h4 id="sumcolumna">SUM(columna)<a hidden class="anchor" aria-hidden="true" href="#sumcolumna">#</a></h4>
<p>Suma los valores de una columna numérica. Se pueden usar otros operadores para hacer operaciones dentro. Funciona mejor con INT.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Suma los montos de ventas</li>
</ul>
<pre tabindex="0"><code>SELECT SUM(monto) AS totalVentasMonto FROM Ventas;
</code></pre><h4 id="avgcolumna">AVG(columna)<a hidden class="anchor" aria-hidden="true" href="#avgcolumna">#</a></h4>
<p>Calcula el promedio de los valores de una columna numérica.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Promedia los montos de las ventas</li>
</ul>
<pre tabindex="0"><code>SELECT AVG(monto) AS promedioMonto FROM Ventas;
</code></pre><h4 id="mincolumna">MIN(columna)<a hidden class="anchor" aria-hidden="true" href="#mincolumna">#</a></h4>
<p>Devuelve el valor mínimo en una columna.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Obtiene el monto más bajo de las ventas.</li>
</ul>
<pre tabindex="0"><code>SELECT MIN(monto) AS montoMinimoVenta FROM Ventas;
</code></pre><h4 id="maxcolumna">MAX(columna)<a hidden class="anchor" aria-hidden="true" href="#maxcolumna">#</a></h4>
<p>Devuelve el valor máximo en una columna.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Obtiene el monto más alto de las ventas.</li>
</ul>
<pre tabindex="0"><code>SELECT MAX(monto) AS montoMinimoVenta FROM Ventas;
</code></pre><h4 id="uso-de-group-by">Uso de GROUP BY<a hidden class="anchor" aria-hidden="true" href="#uso-de-group-by">#</a></h4>
<p>Agrupa registros por una columna y cuenta cuántos existen en cada grupo. Se usa cuando se requieren dos o más registros.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Obtiene las ventas por producto</li>
</ul>
<pre tabindex="0"><code>SELECT nombre, COUNT(*) AS cantidadVentas FROM Productos GROUP BY nombre;
</code></pre><p>Dependiendo del elemento con el que se agrupa, se mostrarán diferentes resultados, y es posible agrupar por varios filtros (Se separan con una coma). Si se agrupa por <code>id</code> se mostrará solo una vez cada registro con ese <code>id</code> aunque aparezcan varias veces.</p>
<h4 id="uso-de-order-by">Uso de ORDER BY<a hidden class="anchor" aria-hidden="true" href="#uso-de-order-by">#</a></h4>
<p>El <code>ORDER BY</code> se usa para ordenar los resultados de una consulta según una o varias columnas. Se puede especificar el orden:</p>
<ul>
<li><strong>ASC</strong>: ascendente, por defecto.</li>
<li><strong>DESC</strong>: descendente.</li>
</ul>
<p><strong>Ejemplos</strong></p>
<ul>
<li>Obtiene la lista de productos ordenada alfabéticamente:</li>
</ul>
<pre tabindex="0"><code>SELECT nombre, precio
FROM Productos
ORDER BY nombre ASC;
</code></pre><ul>
<li>Obtiene los productos más caros primero:</li>
</ul>
<pre tabindex="0"><code>SELECT nombre, precio
FROM Productos
ORDER BY precio DESC;
</code></pre><h5 id="relación-con-group-by">Relación con GROUP BY<a hidden class="anchor" aria-hidden="true" href="#relación-con-group-by">#</a></h5>
<p>Cuando se usa <code>GROUP BY</code>, el <code>ORDER BY</code> permite ordenar los grupos generados según los valores agregados.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Obtiene las ventas por producto y las ordena de mayor a menor:</li>
</ul>
<pre tabindex="0"><code>SELECT nombre, COUNT(*) AS cantidadVentas  
FROM Productos  
GROUP BY nombre  
ORDER BY cantidadVentas DESC;
</code></pre><h3 id="15-vistas">1.5 Vistas<a hidden class="anchor" aria-hidden="true" href="#15-vistas">#</a></h3>
<p>Las vistas en SQL son objetos virtuales que nos permiten acceder y manipular datos almacenados en una o varias tablas como si fueran tablas individuales. Sus ventajas son:</p>
<ul>
<li>Se simplifican las consultas</li>
<li>Se organizan los datos y mejora el rendimiento.</li>
<li>Son más seguras porque ya no se ve el join con los datos, solo se verá el nombre de la vista.</li>
</ul>
<h4 id="sintaxis-básica-de-una-vista">Sintaxis básica de una vista<a hidden class="anchor" aria-hidden="true" href="#sintaxis-básica-de-una-vista">#</a></h4>
<ul>
<li><strong>Crear una vista</strong></li>
</ul>
<pre tabindex="0"><code>CREATE VIEW nombre_vista
AS consulta_deseada;
</code></pre><ul>
<li><strong>Consultar una vista</strong></li>
</ul>
<pre tabindex="0"><code>SELECT * FROM nombre_vista;
</code></pre><ul>
<li><strong>Modificar una vista</strong></li>
</ul>
<pre tabindex="0"><code>CREATE VIEW nombre_vista
AS consulta_deseada;

ALTER VIEW nombre_vista
AS consulta_nueva;
</code></pre><p><strong>Ejemplo</strong></p>
<ul>
<li>Vista que muestra todos los empleados del departamento de sistemas y de Puebla</li>
</ul>
<pre tabindex="0"><code>CREATE VIEW empleadosSistemasPuebla
AS
SELECT Personas.nombrePersona
FROM Personas INNER JOIN Departamentos
ON Personas.id_departamento = Departamentos.id_departamento INNER JOIN DepartamentosEstados
ON Departamentos.id_departamento = DepartamentosEstados.id_departamento INNER JOIN Estados
ON DepartamentosEstados.id_estado = Estados.id_estado
WHERE Departamentos.nombreDepartamento = &#39;Sistemas&#39; AND Estados.nombreEstado = &#39;Puebla&#39;;

SELECT * FROM empleadosSistemasPuebla;
</code></pre><h4 id="cifrado-de-vistas">Cifrado de vistas<a hidden class="anchor" aria-hidden="true" href="#cifrado-de-vistas">#</a></h4>
<p>El cifrado de vistas se usa para mantener la confidencialidad del código, especialmente si se contiene lógica o procesos sensibles.</p>
<p><strong>Ejemplo</strong></p>
<ul>
<li>Se crea una nueva vista con cifrado</li>
</ul>
<pre tabindex="0"><code>CREATE VIEW nombre_vista WITH ENCRYPTION
AS consulta_deseada;
</code></pre><ul>
<li>Se modifica una vista para que tenga cifrado</li>
</ul>
<pre tabindex="0"><code>CREATE VIEW nombre_vista
AS consulta_deseada;

ALTER VIEW nombre_vista WITH ENCRYPTION
AS consulta_nueva;
</code></pre><p>Para comprobar si está cifrada, se utiliza <code>sp_helpText</code>.</p>
<hr>
<h2 id="-más-información">/ Más Información<a hidden class="anchor" aria-hidden="true" href="#-más-información">#</a></h2>
<ul>
<li><a href="/apuntes/bases-de-datos-i---conceptos-b%C3%A1sicos/">Bases de Datos I - Conceptos Básicos</a></li>
<li><a href="/apuntes/bases-de-datos-ii---diagramas-y-documentaci%C3%B3n/">Bases de Datos II - Diagramas y Documentación</a></li>
<li><a href="/apuntes/bases-de-datos-iii---reglas-de-normalizaci%C3%B3n/">Bases de Datos III - Reglas de Normalización</a></li>
<li><a href="/apuntes/bases-de-datos-iv---%C3%A1lgebra-relacional/">Bases de Datos IV - Álgebra Relacional</a></li>
<li><a href="/apuntes/bases-de-datos-v---microsoft-sql/">Bases de Datos V - Microsoft SQL</a></li>
<li><a href="/apuntes/bases-de-datos-vi---estructura-b%C3%A1sica-de-sql/">Bases de Datos VI - Estructura Básica de SQL</a></li>
<li><a href="/apuntes/bases-de-datos-vii---consultas-de-datos/">Bases de Datos VII - Consultas de Datos</a></li>
<li><a href="/apuntes/bases-de-datos-viii---automatizaci%C3%B3n-y-seguridad/">Bases de Datos VIII - Automatización y Seguridad</a></li>
<li><a href="/apuntes/bases-de-datos-ix---operaciones-avanzadas-de-sql/">Bases de Datos IX - Operaciones Avanzadas de SQL</a></li>
</ul>
<hr>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/enciclopedia/">Enciclopedia</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">oscarzt20</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copiar';

        function copyingDone() {
            copybutton.innerHTML = '¡copiado!';
            setTimeout(() => {
                copybutton.innerHTML = 'copiar';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
